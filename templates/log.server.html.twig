{% extends "layout.html.twig" %}
{% block content %}
	<div class="global indent">
		<div id="erreur"></div>
			<section class="formBox">
				<div class="container">
					<div class="row">
						<article class="col-lg-12 col-md-12 col-sm-12">
							<h3 class="h3suscribe">Inscrivez-vous</h3>
							<form action="./inscription" method="post" onsubmit="return verifMdp();">
								<table class='tableLogServer'>
									<tr>
										<td>login</td>
										<td><input class="form-control" type="text" value="{{login}}" name="log2" id="log2"></td>
									</tr>
									<tr>
										<td>Email</td>
										<td><input class="form-control" type="Email" id="mail" name="mailMar"></td>
									</tr>
									<tr>
										<td>Mot de passe </td>
										<td><input class="form-control" type="password" value="{{mdp}}" id="mdp2" name="mdp2"> <br></td>
									</tr>
									<tr>
										<td>Confirmation mot de passe</td>
										<td><input class="form-control" type="password" id="mdp2redoo"><br></td>
									</tr>
									<tr>
										<td>Question secrète</td>
										<td><input class="form-control" type="text" id="question" name="question"><br></td>
									</tr>
									<tr>
										<td>Réponse secrète</td>
										<td><input class="form-control" type="text" id="reponse" name="reponse"><br></td>
									</tr>
									<tr><td class="btnLogServer" colspan="2"><input class="btn-default btn1" type="submit"></td></tr>
								</table>
								<br>
								
							</form>
						</article></div></div></section></div>
					</div>
					<script>
					login = '{{login}}';
					mdp = '{{mdp}}';
					if ('{{erreur}}' == 'name') {
						errorUser('Votre login\' a déjà été attribué! ');
					}
					if ('{{erreur}}' == 'mdplog') {
						errorUser('Vous avez réussi à ne rien mettre comme mot de passe ou login\'. Vous êtes fortiche, vous!');
					}
					if ('{{erreur}}' == 'mail') {
						errorUser('Votre mail a déjà été attribué ou n\' est pas valide! ');
					}
					function verifMdp(){
						if (document.getElementById('mail').value.length == 0) {
							$('#mail').css('borderColor', 'red');
							return false;
						}
						if (document.getElementById('log2').value.length == 0) {
							$('#log2').css('borderColor', 'red');
							return false;
						}
						if (document.getElementById('mdp2redoo').value == document.getElementById('mdp2').value && document.getElementById('mdp2').value.length >= 8 ) {
							return true;
						}else if (document.getElementById('mdp2').value.length <= 8) {
							errorUser('Mot de passe trop court');
							$('#mdp2').css('borderColor', 'red');
							return false;
						}else{
							document.getElementById('mdp2redoo').value = '';
							$('#mdp2redoo').css('borderColor', 'red');
							return false;
						}
					}
					function errorUser($msg){
						document.getElementById('erreur').innerHTML = $msg;
					}
					
					</script>
				{% endblock %}